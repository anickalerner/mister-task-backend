(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{102:function(e,t,n){e.exports=n(162)},158:function(e,t){},161:function(e,t,n){},162:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),o=n.n(c),s=n(38),u=n(34),l=n(24),i=n(78),d=n(79),p=n(93),k=n(15),f=n(14),m=n(195),T=n(205),v=n(200),E=n(199),h=n(50),b=n.n(h),A=n(84),D=n.n(A),g=n(85),S=n.n(g),O=n(86),w=n.n(O),y=n(204),_=n(87),x=n.n(_),j=n(201),C=n(88),N=n.n(C);function K(e){var t=["D1EEF0","EEE5F0","C1D7C1","B9BDCB"],n=e.task,a=r.a.useState(n.importance?n.importance:1),c=Object(f.a)(a,2),o=c[0],s=c[1],u=r.a.useState(function(){var e=parseInt(Math.random()*t.length);return"#"+t[e]}()),l=Object(f.a)(u,1)[0];var i=n.importance===o;return r.a.createElement("div",{style:{backgroundColor:l}},r.a.createElement(m.a,{variant:"outlined",className:"task-card"},n.done&&r.a.createElement(y.a,{label:"Done",className:"done"}),r.a.createElement(T.a,{title:n.title}),r.a.createElement(E.a,null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(D.a,null)," Importance: ",r.a.createElement("input",{type:"number",min:"1",max:"3",value:o,onChange:function(e){s(e.target.value)},className:"task-importance"})),r.a.createElement("li",null,r.a.createElement(b.a,null),new Date(n.createdAt).toLocaleString()),n.triesCount&&r.a.createElement("li",null,r.a.createElement(S.a,null)," Tries count: ",n.triesCount),n.done&&r.a.createElement("li",null,r.a.createElement(b.a,null)," Done at: ",new Date(n.doneAt).toLocaleString()))),r.a.createElement(v.a,null,r.a.createElement(j.a,{"aria-label":"delete",onClick:function(){return e.onDelete(n._id)}},r.a.createElement(w.a,null)),r.a.createElement(j.a,{"aria-label":"edit",disabled:i,onClick:function(){e.onEdit(Object(k.a)({},n,{importance:o}))}},r.a.createElement(x.a,null)),r.a.createElement(j.a,{"aria-label":"start",disabled:n.done,onClick:function(){return e.onStart(n._id)}},r.a.createElement(N.a,null)))))}var R=n(11),L=n.n(R),I=n(89),U=n.n(I).a.create({withCredentials:!0}),B=function(e,t){return G(e,"GET",t)},M=function(e,t){return G(e,"POST",t)},P=function(e,t){return G(e,"PUT",t)},F=function(e,t){return G(e,"DELETE",t)};function G(e){var t,n,a,r=arguments;return L.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:"get",n=r.length>2&&void 0!==r[2]?r[2]:null,c.prev=2,c.next=5,L.a.awrap(U({url:"".concat("/api/").concat(e),method:t,data:n}));case 5:return a=c.sent,c.abrupt("return",a.data);case 9:throw c.prev=9,c.t0=c.catch(2),console.log("Had Issues ".concat(t,"ing to the backend, endpoint: ").concat(e,", with data: ").concat(n)),console.dir(c.t0),c.t0;case 14:case"end":return c.stop()}}),null,null,[[2,9]])}var J={add:function(e){return M("task",e)},query:function(){return B("task")},remove:function(e){return F("task/".concat(e))},update:function(e){return P("task",e)},start:function(e){return P("task/".concat(e,"/start"))},undoAll:function(){return P("task/undo")}};var W=n(202),q=n(203),V=n(90),X=n.n(V);function H(e){var t=r.a.useState(""),n=Object(f.a)(t,2),a=n[0],c=n[1],o=r.a.createRef();return r.a.createElement("div",{className:"add-task"},r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(t){t.preventDefault(),e.onAddTask(a),o.current.value=""},className:"flex row"},r.a.createElement(W.a,{type:"submit",variant:"contained",startIcon:r.a.createElement(X.a,null),className:"add-task-btn"},"Add task"),r.a.createElement(q.a,{id:"outlined-basic",label:"Task title",variant:"outlined",onKeyUp:function(e){c(e.target.value)},inputRef:o})))}var $,z=n(91),Q=n.n(z),Y={setup:function(){$=Q()("/")},terminate:function(){$=null},on:function(e,t){$.on(e,t)},off:function(e,t){$.off(e,t)},emit:function(e,t){$.emit(e,t)}};var Z=["D1EEF0","EEE5F0","C1D7C1","B9BDCB"],ee=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).updateTaskTrial=function(e){n.props.updateTaskTrial(JSON.parse(e))},n.onAddTask=function(e){n.props.addTask({title:e})},n.onDelete=function(e){n.props.deleteTask(e)},n.onEdit=function(e){n.props.updateTask(e)},n.onStart=function(e){n.props.startTask(e)},n.getRandomColor=function(){var e=parseInt(Math.random()*Z.length);return"#"+Z[e]},n.undoTasks=function(){n.props.undoTasks()},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.loadTasks(),Y.setup(),Y.on("task done",this.updateTaskTrial)}},{key:"componentWillUnmount",value:function(){Y.off("task done",this.updateTaskTrial),Y.terminate()}},{key:"render",value:function(){var e=this;return this.props.tasks?r.a.createElement("div",{className:"App app-container"},r.a.createElement("h1",null,"Task Manager"),r.a.createElement("div",{className:"tasks-container"},this.props.tasks.map((function(t,n){return r.a.createElement(K,{task:t,key:n,onDelete:e.onDelete,onEdit:e.onEdit,onStart:e.onStart,color:e.getRandomColor()})}))),r.a.createElement(H,{onAddTask:this.onAddTask,onDelete:this.onDelete}),r.a.createElement(W.a,{onClick:this.undoTasks},"Undo tasks")):r.a.createElement("div",null,"Loading")}}]),t}(r.a.Component),te={loadTasks:function(){return function(e){var t;return L.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L.a.awrap(J.query());case 3:t=n.sent,e({type:"SET_TASKS",tasks:t}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log("TaskActions: err in loadTasks",n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])}},addTask:function(e){return function(t){var n;return L.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,L.a.awrap(J.add(e));case 3:n=a.sent,t({type:"ADD_TASK",task:n}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log("TaskActions: err in addTask",a.t0);case 10:case"end":return a.stop()}}),null,null,[[0,7]])}},deleteTask:function(e){return function(t){return L.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L.a.awrap(J.remove(e));case 3:t({type:"DELETE_TASK",removedTaskId:e}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log("TaskActions: err in deleteTask",n.t0);case 9:case"end":return n.stop()}}),null,null,[[0,6]])}},updateTask:function(e){return function(t){return L.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L.a.awrap(J.update(e));case 3:t({type:"UPDATE_TASK",task:e}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log("TaskActions: err in updateTask",n.t0);case 9:case"end":return n.stop()}}),null,null,[[0,6]])}},startTask:function(e){return function(t){var n;return L.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,L.a.awrap(J.start(e));case 3:n=a.sent,t({type:"START_TASK",task:n}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log("TaskActions: err in startTask",a.t0);case 10:case"end":return a.stop()}}),null,null,[[0,7]])}},updateTaskTrial:function(e){return function(t){try{t({type:"MARK_DONE",task:e})}catch(n){console.log("TaskActions: err in markDone",n)}}},undoTasks:function(){return function(e){var t;return L.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L.a.awrap(J.undoAll());case 3:t=n.sent,e({type:"UNDO_TASKS",tasks:t}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log("TaskActions: err in markDone",n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])}}},ne=Object(s.b)((function(e){return{tasks:e.taskReducer.tasks}}),te)(ee);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(161);var ae=n(23),re=n(92),ce=n(22),oe={tasks:[]},se={isLoading:!1},ue=Object(ae.c)({systemReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOADING_START":return Object(k.a)({},e,{isLoading:!0});case"LOADING_DONE":return Object(k.a)({},e,{isLoading:!1});default:return e}},taskReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_TASKS":case"UNDO_TASKS":return Object(k.a)({},e,{tasks:t.tasks});case"ADD_TASK":return Object(k.a)({},e,{tasks:[].concat(Object(ce.a)(e.tasks),[t.task])});case"DELETE_TASK":return Object(k.a)({},e,{tasks:e.tasks.filter((function(e){return e._id!==t.removedTaskId}))});case"UPDATE_TASK":case"START_TASK":case"MARK_DONE":return Object(k.a)({},e,{tasks:e.tasks.map((function(e){return e._id===t.task._id?t.task:e}))});default:return e}}}),le=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ae.d,ie=Object(ae.e)(ue,le(Object(ae.a)(re.a)));o.a.render(r.a.createElement(s.a,{store:ie},r.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[102,1,2]]]);
//# sourceMappingURL=main.76bea1b3.chunk.js.map